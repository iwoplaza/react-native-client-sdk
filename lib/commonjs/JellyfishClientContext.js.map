{"version":3,"names":["_react","_interopRequireWildcard","require","_expoModulesCore","_reactNative","_peer_notifications","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","i","set","membraneModule","requireNativeModule","eventEmitter","NativeEventEmitter","NativeModulesProxy","MembraneWebRTC","generateMessage","event","message","code","reason","filter","join","JellyfishContext","exports","React","createContext","undefined","JellyfishContextProvider","props","error","setError","useState","websocket","useRef","sendMediaEvent","current","readyState","WebSocket","OPEN","PeerMessage","encode","mediaEvent","data","finish","send","useEffect","eventListener","addListener","remove","connect","url","peerToken","processIncomingMessages","Promise","resolve","reject","addEventListener","isTrusted","Error","authRequest","token","uint8Array","Uint8Array","decode","authenticated","receiveMediaEvent","String","create","peerMetadata","cleanUp","disconnect","close","leave","value","createElement","Provider","children","useJellyfishClient","context","useContext"],"sourceRoot":"../../src","sources":["JellyfishClientContext.tsx"],"mappings":"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"}
