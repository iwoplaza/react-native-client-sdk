{"version":3,"names":["_react","_interopRequireWildcard","require","_expoModulesCore","_reactNative","_peer_notifications","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","membraneModule","requireNativeModule","eventEmitter","NativeEventEmitter","NativeModulesProxy","MembraneWebRTC","generateMessage","event","message","code","reason","filter","join","JellyfishContext","exports","React","createContext","undefined","JellyfishContextProvider","props","error","setError","useState","websocket","useRef","sendMediaEvent","_websocket$current","_websocket$current2","current","readyState","WebSocket","OPEN","PeerMessage","encode","mediaEvent","data","finish","send","useEffect","eventListener","addListener","remove","connect","url","peerToken","processIncomingMessages","Promise","resolve","reject","_websocket$current3","_websocket$current4","_websocket$current6","addEventListener","isTrusted","Error","_websocket$current5","authRequest","token","uint8Array","Uint8Array","decode","authenticated","receiveMediaEvent","String","create","peerMetadata","cleanUp","_websocket$current7","disconnect","close","leave","value","createElement","Provider","children","useJellyfishClient","context","useContext"],"sourceRoot":"../../src","sources":["JellyfishClientContext.tsx"],"mappings":"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","ignoreList":[]}