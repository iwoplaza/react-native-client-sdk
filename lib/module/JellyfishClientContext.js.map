{"version":3,"names":["React","requireNativeModule","NativeModulesProxy","useEffect","useRef","useState","NativeEventEmitter","PeerMessage","membraneModule","eventEmitter","MembraneWebRTC","generateMessage","event","message","code","reason","filter","i","join","JellyfishContext","createContext","undefined","JellyfishContextProvider","props","error","setError","websocket","sendMediaEvent","_websocket$current","_websocket$current2","current","readyState","WebSocket","OPEN","encode","mediaEvent","data","finish","send","eventListener","addListener","remove","connect","url","peerToken","processIncomingMessages","Promise","resolve","reject","_websocket$current3","_websocket$current4","_websocket$current6","addEventListener","isTrusted","Error","_websocket$current5","authRequest","token","uint8Array","Uint8Array","decode","authenticated","receiveMediaEvent","e","String","create","peerMetadata","cleanUp","_websocket$current7","disconnect","close","leave","value","createElement","Provider","children","useJellyfishClient","context","useContext"],"sourceRoot":"../../src","sources":["JellyfishClientContext.tsx"],"mappings":"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","ignoreList":[]}