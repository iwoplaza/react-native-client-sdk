{"version":3,"names":["React","requireNativeModule","NativeModulesProxy","useEffect","useRef","useState","NativeEventEmitter","PeerMessage","membraneModule","eventEmitter","MembraneWebRTC","generateMessage","event","message","code","reason","filter","i","join","JellyfishContext","createContext","undefined","JellyfishContextProvider","props","error","setError","websocket","sendMediaEvent","current","readyState","WebSocket","OPEN","encode","mediaEvent","data","finish","send","eventListener","addListener","remove","connect","url","peerToken","processIncomingMessages","Promise","resolve","reject","addEventListener","isTrusted","Error","authRequest","token","uint8Array","Uint8Array","decode","authenticated","receiveMediaEvent","e","String","create","peerMetadata","cleanUp","disconnect","close","leave","value","createElement","Provider","children","useJellyfishClient","context","useContext"],"sourceRoot":"../../src","sources":["JellyfishClientContext.tsx"],"mappings":"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"}
